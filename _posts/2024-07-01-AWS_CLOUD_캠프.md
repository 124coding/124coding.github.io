---
layout: single
title:  "AWS_CLOUD_캠프"
categories: study
---

# 1. AWS(Amazon Web Services) 소개
### 이 포스팅에서는 캠프에서 배운 이론을 포스팅하는 것으로 커피숍에 AWS를 비유하여 작성하겠습니다.
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/a15f3c71-f5ab-4afa-94e7-b0e2104f35f3" width="500" height="300">    

거의 모든 최신 컴퓨팅의 중심에는 커피숍 거래와 유사한 트랜잭션을 사용하는 기본적 클라이언트-서버 모델이 있습니다.   
고객이 커피 한잔 요청 -> 바리스타가 음료를 만들어 고객에게 제공   
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/ff6fe39e-35af-4499-9c3f-4ce82005d26f" width="500" height="300">    

컴퓨팅에서 **고객**은 클라이언트이며 클라이언트는 사람이 컴퓨터 서버에 요청을 하기 위해 상호 작용하는 웹, 데스크톱 애플리케이션일 수 있습니다. 서버는 **바리스타**와 같습니다. 서버는 일종의 가상 서버인 Amazon Elastic Compute Cloud(Amazon EC2)와 같은 서비스일 수 있습니다.   
ex) 고객이 커피 주문, 쿠폰, 프로모션 등을 요청한다고 가정하면 서버는 요청을 평가하고 클라이언트에 정보를 반환하여 요청을 이행합니다.   

## 클라우드 컴퓨팅
클라이언트-서버 모델을 통해 **클라우드 컴퓨팅**이 가능합니다. 클라우드 컴퓨팅이란 인터넷을 통해 IT 리소스와 애플리케이션을 *온디맨드*로 제공하는 서비스를 말합니다.   
이때 온디맨드란 사용자의 요구가 있었을 때 그 요구에 따라 서비스를 제공하는 것을 말합니다.   

클라우드 컴퓨팅을 사용하면 대규모 사전 투자를 방지하고 하드웨어 관리에 시간과 리소스를 할애하지 않아도 되며 필요에 따라 컴퓨팅 리소스 프로비저닝이 가능하며 사용한만큼의 비용만 지불해도 됩니다.   

### 클라우드 컴퓨팅 배포 모델
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/b84653f0-118b-4660-aa3a-a929ad207376" width="500" height="300">   
   
클라우드 배포 전략을 선택 시 기업은 원하는 클라우드 애플리케이션 구성 요소, 선호하는 리소스 관리 도구, 레거시 IT 인프라 요구 사항 등의 요소를 고려해야 합니다.   
이때 배포의 세가지 모델은 클라우드 기반 배포, 온프레미스 배포, 하이브리드 배포가 있습니다.   

#### 클라우드 기반 배포
1. 애플리케이션의 모든 부분을 클라우드에서 실행
2. 기존 애플리케이션을 클라우드로 마이그레이션
3. 클라우드에서 새로운 애플리케이션 설계 및 구축

ex) 기업은 완전히 클라우드에 기반한 가상 서버, 데이터베이스, 네트워킹 구성 요소로 구성된 애플리케이션을 생성할 수 있습니다. 이를 통해 회사의 관리, 설계, 크기 조정 요구 사항을 줄일 수 있습니다.   

#### 온프레미스 배포
1. 가상화 및 리소스 관리 도구를 사용하여 리소스 배포
2. 애플리케이션 관리 및 가상화 기술을 사용하여 리소스 사용량 증가

온프레미스 배포는 프라이빗 클라우드 배포라고도 불립니다.   
ex) 온프레미스 데이터 센터에서 실행되는 애플리케이션이 있을 수 있는데 이 모델은 레거시 IT 인프라와 비슷하지만 애플리케이션 관리와 가상화 기술이 통합되어 리소스 사용량을 높이는 데 도움이 됩니다.   

#### 하이브리드 배포
1. 클라우드 기반 리소스를 온프레미스 인프라에 연결
2. 클라우드 기반 리소스와 레거스 IT 애플리케이션을 통합

1번과 같은 접근 방법이 필요한 여러 상황이 있을 수 있는데
ex) 온프레미스에서 보다 잘 유지 관리되는 레거시 애플리케이션이 있거나 정부 규정에 따라 특정 레코드를 온프레미스에 보관해야 하는 경우가 있을 수 있습니다.   
ex) 배치 데이터 처리 및 분석을 자동화할 수 있는 클라우드 서비스를 사용하려는 회사가 있다고 가정해보겠습니다. 이때 이 회사는 온프레미스에 더 적합하고 클라우드로 마이그레이션되지 않는 여러 레거시 애플리케이션이 있습니다. 이럴때 하이브리드 배포를 통해 레거시 애플리케이션을 온프레미스로 유지하고 클라우드에서 실행되는 데이터 및 분석 서비스의 이점을 활용할 수 있습니다.   

### 클라우드 컴퓨팅의 이점
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/4bde761e-d4ab-408e-8b58-109b09ea6c4f" width="500" height="300">   

초기 비용을 가변 비용으로 바꿀 수 있다는 이점이 있습니다.   
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/d3ee7d6a-cc25-4919-88e2-f255d7877e8d" width="500" height="300">   
데이터 센터에서 컴퓨팅하려면 인프라 및 서버 관리에 더 많은 비용과 시간을 소비해야 하는 경우가 많은데 이러한 작업에 신경을 덜 쓰고 애플리케이션과 고객에 더 집중할 수 있습니다.   
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/06d2daf3-4f61-43e8-a1f7-2faea8738ca3" width="500" height="300">   
용량을 추정할 필요가 없습니다.   
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/13dd1d1a-437f-4905-b532-55b506240cc6" width="500" height="300">   
거대한 규모의 경제를 활용할 수 있습니다. 인프라를 소유할 때보다 가변 비용이 낮아집니다.
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/6f877511-6445-48ae-9ebd-573efc24b43b" width="500" height="300">   
속도와 민첩성을 높일 수 있습니다. 데이터 센터에서 컴퓨팅 수행 시, 필요한 새 리소스를 확보하는 데 몇 주가 걸릴 수도 있는데 이에 비해 클라우드 컴퓨팅 이용시 몇 분 만에 새로운 리소스에 액세스할 수 있습니다.   
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/c9a3dcec-f9ec-4e8c-9920-4001a2600ceb" width="500" height="300">   
AWS 클라우드의 글로벌 입지를 활용하여 신속하게 애플리케이션을 배포하는 동시에 짧은 지연 시간을 제공할 수 있습니다.   

### AWS 핵심 서비스 범주
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/84a08969-b2b3-4c0e-ae28-231f2abe00fc" width="500" height="300">   

AWS에서 제공하는 모든 서비스를 알 필요는 없기에 기본 개념을 중점적으로 설명하겠습니다.   

## 클라우드 컴퓨팅
AWS에서는 Amazon EC2(Amazon Elastic Compute Cloud) 서비스를 사용하여 가상 서버를 실행할 수 있습니다.   

### Amazon EC2
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/4d1d3cf5-2685-4a3a-b679-7d6c6815e10f" width="500" height="300">   

Amazon EC2는 클라우드에서 안전하고 크기 조정이 가능한 컴퓨팅 용량을 Amazon EC2 인스턴스로 제공합니다.   

ex) Amazon EC2 인스턴스에서 가상 서버를 사용하여 AWS 클라우드에서 애플리케이션을 실행하면 다음과 같은 과정이 됩니다.   
1. 몇 분 내에 Amazon EC2 인스턴스 프로비저닝 및 시작   
2. 워크로드 실행을 맟치면 사용 중지   
3. 인스턴스가 실행중일 때 사용한 컴퓨팅 시간에 대해서만 비용 지불, 인스턴스가 중지 or 종료 시 비용 지불 x   
4. 필요한 서버 용량에 대해서만 비용을 지불하여 비용 절감   

### Amazon EC2 작동 방식
인스턴스를 시작 -> 인스턴스 연결 -> 인스턴스 사용   
1. 인스턴스 시작에서는 인스턴스의 기본 구성이 포함된 템플릿을 선택하고 이러한 구성에는 운영체제, 애플리케이션 서버 또는 애플리케이션이 포함됩니다. 인스턴스의 특정 하드웨어 구성인 인스턴스 유형도 선택합니다.
2. 인스턴스 연결 시에는 여러 가지 방법으로 연결할 수 있습니다. 프로그램과 애플리케이션에는 인스턴스에 직접 연결하고 데이터를 교환하는 여러 가지 방법이 있습니다. 또는 사용자가 로그인하여 인스턴스에 연결하고 컴퓨터 데스크톱에 액세스할 수도 있습니다.
3. 인스턴스 사용은 명령을 실행하여 소프트웨어 설치, 스토리지 추가, 파일 복사 및 정리 등의 작업을 수행할 수 있습니다.

### Amazon EC2 인스턴스 유형
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/189a0d5a-e92e-41e5-8bf4-b532fb03689c" width="500" height="300">   

만약 커피숍의 커피 만들기, 계산대 업무, 물품 주문 등의 일을 각각의 직원들이 전부 하게 되면 동선이든 일이든 겹치는 등의 부분이 발생하여 고객에게 최상의 서비스를 제공하지 못하게 될 수 있겠죠.   
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/85257c35-09ba-48e9-96e1-6e69a4221e42" width="500" height="300">   

이렇기에 각 직원마다의 업무 전문화가 필요하게 됩니다.   
각 직원마다 강점이 다르기에 각 직원의 전문성을 발휘할 수 있게 일하게 하는게 효율이 가장 높게 될 것입니다. 그럼 이러한 직원들을 다양한 유형의 Amazon EC2 인스턴스로 생각하게 되먄 Amazon EC2 인스턴스를 시작하여 다양한 작업을 완료할 수 있게 됩니다.   

Amazon EC2 인스턴스 유형에는 5가지가 존재하는데   
인스턴스 유형을 선택할 때는 워크로드 및 애플리케이션의 구체적 요구 사항을 고려해야 합니다.   

1. 범용 - 컴퓨팅, 메모리, 네트워킹 리소스를 균형있게 제공, 다양한 워크로드에 적합
2. 컴퓨팅 최적화 - 고성능 프로세서 제공, 컴퓨팅 집약적 애플리케이션 및 배치 처리 워크로드에 적합
3. 메모리 최적화 - 메모리 집약적 워크로드를 위한 빠른 성능 제공, 고성능 데이터베이스에 적합
4. 가속 컴퓨팅 - 하드웨어 액셀러레이터를 사용하여 데이터 처리 가속화, 애플리케이션 스트리밍 및 그래픽 워크로드에 적합
5. 스토리지 최적화 - 낮은 지연 시간 및 높은 초당 입출력 작업 수 (IOPS) 제공, 분산 파일 시스템 및 데이터 웨어하우징 애플리케이션과 같은 워크로드에 적합

### Amazon EC2 인스턴스 요금 옵션
Amazon EC2에서는 사용한 컴퓨팅 시간에 대해서만 비용을 지불합니다. Amazon EC2는 사용 사례에 따라 6개의 요금 옵션을 제공합니다.   

1. 온디맨드 - 초기 선결제 비용이나 최소 약정 없음, 불규칙한 단기 워크로드에 적합
2. 스팟 - 시작 및 종료 시간이 자유로운 워크로드에 적합, 온디맨드 대비 비용 절감
3. 예약 - 온디맨드 요금에 비해 결제 할인 제공, 1년 또는 3년 약정 필요
4. Compute Savings Plans - 컴퓨팅 사용량이 일정할 경우 온디맨드에 비해 최대 66% 비용 절감, 1년 또는 3년 약정 필요
5. 전용 인스턴스 - 단일 고객용 하드웨어의 VPC에서 실행되는 EC2 인스턴스, 표준 Amazon EC2 인스턴스에 비해 더 높은 비용
6. 전용 호스트 - 단일 고객용 EC2 인스턴스 용량을 갖춘 물리적 서버, 가장 비용이 많이 드는 Amazon EC2 옵션

### Amazon EC2 Auto Scaling
<img src="https://github.com/124coding/124coding.github.io/assets/114299892/1b484fb0-5a18-470d-962b-39adf65230c5" width="500" height="300">   

수동 크기 조정의 예를 위의 커피숍 예로 설명하면 바쁜 시기에 바리스타가 한 명이면 이 바리스타는 업무가 벅차서 지원을 요청할 것이고 이 요청을 들은 점장은 다른 바리스타를 데려올 것입니다. 이러한 것이 수동 크기 조정의 예입니다.   
이것은 비효율적일 수 있기에 확장성을 위해서는 필요한 리소스만으로 시작하고 수요 변화에 따라 자동으로 확장 및 축소되도록 아키텍처를 설계해야 합니다. 이렇기에 사용한 리소스에 대해서만 비용을 지불하고 고객의 요구를 충족할 수 있는 컴퓨팅 용량 부족을 걱정할 필요가 없습니다.   
그럼 크기 조정이 자동으로 되려면 어떻게 해야 할까요? Amazon EC2 인스턴스에 이 기능을 제공하는 AWS 서비스가 Amazon EC2 Auto Scaling 입니다.   

<img src="https://github.com/124coding/124coding.github.io/assets/114299892/ff7046d3-a16f-4f52-b993-c22c7a6dcd85" width="500" height="300">   

Amazon EC2 Auto Scaling에서는 동적 크기 조정과 예측 크기 조정이라는 두 가지 접근 방식을 사용할 수 있는데 동적 크기 조정은 수요 변화에 대응하고 예측 크기 조정은 예측된 수요에 따라 적절한 수의 Amazon EC2 인스턴스를 자동으로 예약합니다. 이 둘을 함께 사용하면 더 빠르게 조정이 가능합니다.   

<img src="https://github.com/124coding/124coding.github.io/assets/114299892/80221e5d-974b-47dc-86b1-4e3c3623f639" width="500" height="300">  
